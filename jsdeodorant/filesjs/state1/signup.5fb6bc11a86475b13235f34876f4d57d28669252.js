/* 
 * Created by JSCatcher plugin for Crawljax
 * JS file is for Crawljax DOM state https://twitter.com/signup
 * JS file was contained in state1
 * Downloaded from https://abs.twimg.com/c/swift/en/bundle/signup.5fb6bc11a86475b13235f34876f4d57d28669252.js
 */

define("app/utils/common_regexp",["module","require","exports"],function(module, require, exports) {
module.exports={name:/\S+/,ampersat:/^[@＠]$/,usernameForSignup:/^[@＠]?([a-zA-Z0-9_]{1,15})$/,email:/^[\w-]+([^@,\s\<\>\(\)]*[\w-]+)?\@[\w-]+(\.[\w-]+)*\.[a-z]{2,}$/i,allDigitsUsername:/^\d{7,}$/,phoneNumber:/^\+?[0-9\-\.\(\)\s]{7,1000}$/,possiblyPhoneNumber:/^\+?[0-9\-\.\(\)\s]{0,6}$/,end:"end"}
});
define("app/ui/with_password_strength",["module","require","exports","core/i18n"],function(module, require, exports) {
function withPasswordStrength(){this.defaultAttrs({minLength:6,requireStrong:!1,username:"",bannedPasswords:[]}),this.strength=function(b,c,d){function j(a,b){return b&&a.toLowerCase()===(""+b).toLowerCase()}function k(){return{score:0,message:_('Too Obvious'),reason:"obvious"}}function l(a,b){var c="";for(var d=0;d<b.length;d++){var e=!0;for(var f=0;f<a&&f+d+a<b.length;f++)e=e&&b.charAt(f+d)==b.charAt(f+d+a);f<a&&(e=!1),e?(d+=a-1,e=!1):c+=b.charAt(d)}return c}var e=0,c=c||this.attr.username;if(b.length<this.attr.minLength)return{score:b.length,message:_('Too Short'),reason:"tooshort"};if(j(b,c))return k();if(j(b,d))return k();if(this.attr.bannedPasswords.indexOf(b.toLowerCase())>-1)return k();if(this.attr.requireStrong){var f=10,g="# ` ~ ! @ $ % ^ & * ( ) - _ = + [ ] { } \\ | ; : ' \" , . < > / ?".split(" ");g=g.map(function(a){return"\\"+a}).join("");var h=["\\d","[a-z]","[A-Z]","["+g+"]"],i=h.map(function(a){return"(?=.*"+a+")"}).join("");if(!b.match(new RegExp("("+i+"){10,}")))return{score:0,message:_('Too Weak'),reason:"tooweak"}}e+=b.length*4,e+=(l(1,b).length-b.length)*1,e+=(l(2,b).length-b.length)*1,e+=(l(3,b).length-b.length)*1,e+=(l(4,b).length-b.length)*1,b.match(/(.*[0-9].*[0-9].*[0-9])/)&&(e+=5),b.match(/(.*[!@#$%^&*?_~].*[!@#$%^&*?_~])/)&&(e+=5),b.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(e+=10),b.match(/([a-zA-Z])/)&&b.match(/([0-9])/)&&(e+=15),b.match(/([!@#$%^&*?_~])/)&&b.match(/([0-9])/)&&(e+=15),b.match(/([!@#$%^&*?_~])/)&&b.match(/([a-zA-Z])/)&&(e+=15);if(b.match(/^\w+$/)||b.match(/^\d+$/))e-=10;return e<0&&(e=0),e>100&&(e=100),e<34?{score:e,message:_('Weak'),reason:"weak"}:e<50?{score:e,message:_('Good'),reason:"good"}:e<75?{score:e,message:_('Strong'),reason:"strong"}:{score:e,message:_('Very Strong'),reason:"verystrong"}},this.undoBannedPasswordROT13=function(){var a=[];for(var b=0,c=this.attr.bannedPasswords.length;b<c;b++)a.push(this.attr.bannedPasswords[b].replace(/[a-z]/gi,function(a){var b=a.charCodeAt(0),c=b+13;if(b<=90&&c>90||c>122)c-=26;return String.fromCharCode(c)}));this.attr.bannedPasswords=a},this.after("initialize",function(){this.attr.bannedPasswords.length&&this.undoBannedPasswordROT13()})}var _=require("core/i18n");module.exports=withPasswordStrength
});
define("app/data/signup_data",["module","require","exports","core/component","app/data/with_data","app/utils/common_regexp","core/utils","app/ui/with_password_strength"],function(module, require, exports) {
function signupData(){this.defaultAttrs({ajaxTimeout:6e3});var a="";this.validateUsernameAndSuggest=function(b){var c=b.username.match(regexps.usernameForSignup);c&&(b.username=c[1]);var d={suggest:1,username:b.username,full_name:b.fullname,email:b.email,context:this.attr.scribeContext||"signup",custom:b&&b.custom||0};d.suggest_on_username=a!==d.username,a=d.username,this.trigger("dataValidateUsername",d)},this.validateName=function(a,b,c){var d=a.toLowerCase().indexOf("twitter")>-1,e=!!a.match(regexps.name)&&!d,f="tip";return e?b||(f="ok"):(f=a.length?"invalid":"blank",f=d?"notwitter":f),this.trigger("uiValidated",{field:"name",valid:e,quick:b}),f},this.validateEmailOrPhone=function(a,b,c){var d="tip",e=regexps.possiblyPhoneNumber.test(a),f=regexps.phoneNumber.test(a),g=function(a,c,e){b||(d="checking",this.trigger(a,c),"username"in this.attr.validationFields&&this.validateUsernameAndSuggest(e))}.bind(this);return this.trigger("uiToggleSmsConsent",f),e||f?f&&g("dataValidatePhone",{raw_phone_number:a},c):g("dataValidateEmail",{email:a},c),this.trigger("uiValidated",{field:"email",valid:!0,quick:b&&!f}),d},this.validatePassword=function(a,b,c){var d="tip",e=a.length>5;if(!b){var f=this.strength(a,c.username,c.fullname);f.score||(e=!1);switch(f.reason){case"obvious":case"banned":d="obvious",e=!1;break;case"whitespace":case"tooshort":case"tooweak":d="invalid",e=!1;break;case"verystrong":d="perfect",e=!0;break;case"good":case"strong":d="ok",e=!0;break;case"weak":default:var g=f.score>9;d="weak."+(g?"isaok":"error"),e=g}this.trigger("dataPasswordStrength",f.score)}return!e&&d=="tip"&&(d=a.length?"invalid":"blank"),e&&this.verifyPassword(c),this.trigger("uiValidated",{field:"password",valid:e,quick:b}),d},this.validateUsername=function(a,b,c){var d=!1,e="tip";if(a.match(regexps.ampersat))d=!0,e="tip";else{var f=regexps.usernameForSignup.test(a),g=regexps.allDigitsUsername.test(a),d=f&&!g;this.attr.isDeviceCompletion?e="ok":b||(f&&(e="checking"),this.validateUsernameAndSuggest(util.merge(c,{custom:!0})))}return!d&&e=="tip"&&(e=a.length?"invalid":"blank"),d||this.trigger("uiValidated",{field:"username",valid:d,quick:b}),e},this.validateField=function(a,b){var c="tip",d={"user[name]":this.validateName,"user[email]":this.validateEmailOrPhone,"user[user_password]":this.validatePassword,"user[screen_name]":this.validateUsername};c=d[b.name].call(this,b.value,b.quick,b),$(a.target).trigger("uiShowTip",c)},this.verifyUsername=function(a,b){this.get({url:"/users/username_available",eventData:b,data:b,success:"dataUsernameResult",error:"dataUsernameError"})},this.verifyEmail=function(a,b){this.get({url:"/users/email_available",eventData:b,data:b,success:"dataEmailResult",error:"dataEmailError"})},this.verifyPhone=function(a,b){this.get({url:"/users/phone_number_available",eventData:b,data:b,success:"dataPhoneResult",error:"dataPhoneError"})},this.verifyPassword=function(a){this.post({url:"/account/password_strength",eventData:a,data:{password:a.password,name:a.fullname,screen_name:a.username,email:a.email},success:"dataPasswordResult",error:"dataPasswordError"})},this.after("initialize",function(){this.on("uiSignupValidate",this.validateField),this.on("dataValidateUsername",this.verifyUsername),this.on("dataValidateEmail",this.verifyEmail),this.on("dataValidatePhone",this.verifyPhone),this.attr.usernameSuggestionParams&&this.validateUsernameAndSuggest(util.merge(this.attr.usernameSuggestionParams,{username:""}))})}var defineComponent=require("core/component"),withData=require("app/data/with_data"),regexps=require("app/utils/common_regexp"),util=require("core/utils"),withPasswordStrength=require("app/ui/with_password_strength"),SignupData=defineComponent(signupData,withData,withPasswordStrength);module.exports=SignupData
});
define("app/data/signup_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function signupScribe(){this.defaultAttrs({signupButtonSelector:"#submit_button",nextButtonSelector:"#next_button",usernameSelector:"#username",suggestionButtonSelector:".suggestions button.btn-link",suggestionSelector:".select-username .suggestions li button",bqLearnMoreSelector:".cookie-personalization-support",skipLinkSelector:".skip-link",LegalLinkSelector:".legal-link",signupContext:"context"}),this.scribeValidationError=function(a,b){var c=b.field;c=="username"&&(c="screen_name");if(b.quick||b.valid)return;this.scribe({component:"personalization",element:c,action:"validation_error"},{context:this.attr.signupContext})},this.scribeSuggestionSelected=function(a,b){var c=$(a.target);this.scribe({component:"form",element:"suggestion",action:"click"},{message:c.text(),query:c.attr("data-sugg-sources"),event_info:c.attr("data-sugg-technik"),context:this.attr.signupContext})},this.scribeSuggestionChosen=function(a,b){var c=$(a.target).find(this.attr.usernameSelector).val(),d=this.select("suggestionSelector").map(function(){return $(this).text().trim()}).get(),e=$.inArray(c,d)!==-1;e&&this.scribe({component:"form",element:"suggestion",action:"choose"},{event_value:d.length,query:c,context:this.attr.signupContext})},this.scribeCaptchaImpression=function(){this.scribe({component:"form",element:"captcha",action:"impression"},{context:this.attr.signupContext})},this.scribeFocus=function(a,b){var c=$(a.target),d=c.closest(".field").attr("data-fieldname");this.scribe({component:"form",element:d,action:"focus_field"},{context:this.attr.signupContext})},this.scribeBQLearnMore=function(a,b){this.scribe({component:"personalization",element:"support_link",action:"click"},{context:this.attr.signupContext})},this.scribeBQState=function(a,b){this.scribe({component:"personalization",element:"checkbox",action:b.bq},{context:this.attr.signupContext})},this.scribeEmailCorrectionImpression=function(a,b){this.scribe({component:"form",element:"email_autocorrect",action:"impression"},{context:this.attr.signupContext})},this.scribeImpression=function(a,b){this.scribe({component:"javascript",action:"impression"},{context:this.attr.signupContext})},this.scribeNamePageImpression=function(a,b){this.scribe({section:"add_name",component:"javascript",action:"impression"},{context:this.attr.signupContext})},this.scribeEmailCorrectionClick=function(a,b){this.scribe({component:"form",element:"email_autocorrect",action:"click"},{context:this.attr.signupContext})},this.scribeSignupButtonClick=function(a,b){this.scribe({element:"signup_button",action:"click"},{context:this.attr.signupContext})},this.scribeSignupButtonSuccess=function(a,b){this.scribe({element:"signup_button",action:"success"},{context:this.attr.signupContext})},this.scribeNextButtonClick=function(a,b){this.scribe({page:"add_info",section:"add_name",element:"signup_button",action:"click"},{context:this.attr.signupContext})},this.scribeNextButtonSuccess=function(a,b){this.scribe({page:"add_info",section:"add_name",element:"signup_button",action:"success"},{context:this.attr.signupContext})},this.scribeSkip=function(a,b){this.scribe({action:"skip"},{context:this.attr.signupContext})},this.scribeLegalLinkClick=function(a,b){this.scribe({element:"legal_link",action:"click"},{context:this.attr.signupContext})},this.scribeSignupIdentifier=function(a,b){this.scribe({page:b?"phone_signup":"email_signup",section:"form",action:"attempt"})},this.after("initialize",function(){this.on("uiCorrectEmailClicked",this.scribeEmailCorrectionClick),this.on("uiShowingEmailCorrection",this.scribeEmailCorrectionImpression),this.on("uiValidated",this.scribeValidationError),this.on("click",{suggestionSelector:this.scribeSuggestionSelected,bqLearnMoreSelector:this.scribeBQLearnMore,signupButtonSelector:this.scribeSignupButtonClick,nextButtonSelector:this.scribeNextButtonClick,skipLinkSelector:this.scribeSkip,LegalLinkSelector:this.scribeLegalLinkClick}),this.on("uiCaptchaShown",this.scribeCaptchaImpression),this.on("uiFieldTouched",this.scribeFocus),this.on("uiReportBQCheckboxState",this.scribeBQState),this.on("uiSignupValidationSuccess",this.scribeSuggestionChosen),this.on("uiSignupValidationSuccess",this.scribeSignupButtonSuccess),this.on("uiNextValidationSuccess",this.scribeNextButtonSuccess),this.on("uiReportSignupPageLoaded",this.scribeImpression),this.on("uiSignupScribeNamePageImpression",this.scribeNamePageImpression),this.on("uiSignupIdentifierScribe",this.scribeSignupIdentifier)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(signupScribe,withScribe)
});
define("app/ui/signup/slidedown_options",["module","require","exports","core/component"],function(module, require, exports) {
function slidedownOptions(){this.attributes({headerLinkSelector:".SlidedownOptions-headerLink",contentSelector:".SlidedownOptions-content",slideDuration:200}),this.toggleSlide=function(a){a.preventDefault(),this.$content.slideToggle(this.attr.slideDuration)},this.after("initialize",function(){this.$content=this.select("contentSelector"),this.on("click",{headerLinkSelector:this.toggleSlide})})}var defineComponent=require("core/component");module.exports=defineComponent(slidedownOptions)
});
define("app/ui/with_shake_effect",["module","require","exports"],function(module, require, exports) {
function withShakeEffect(){this.shake=function(a){a.css("position","relative");var b=0,c=function(){var d=[-8,8,-5,5,0][b];typeof d!="undefined"&&(b++,a.animate({left:d},100,c))};c()}}module.exports=withShakeEffect
});
define("app/ui/signup/with_signup_validation",["module","require","exports","core/clock","core/compose","app/utils/common_regexp","app/ui/with_shake_effect"],function(module, require, exports) {
function withSignupValidation(){compose.mixin(this,[withShakeEffect]),this.defaultAttrs({rowSelector:".field",usernameSelector:'input[name="user[screen_name]"]',fullnameSelector:'input[name="user[name]"]',emailSelector:'input[name="user[email]"]',passwordSelector:'input[name="user[user_password]"]',scoreSelector:".password .score",submitSelector:'input[type="submit"]',nextSelector:"#next_button",bqSelector:'input[name="user[use_cookie_personalization]"]',nameEnclosingSelector:".prompt.name",emailEnclosingSelector:".prompt.email",bqEnclosingSelector:".prompt.optin",legalCopySelector:".befound",nameValuePropSelector:"#name-value-prop",generalValuePropSelector:"#general-value-prop",smsConsentSelector:".sms-consent",suggestionSelector:".select-username .suggestions li button",smallPrintSelector:".textbox",emailCorrectionSelector:".js-email-correction",isDeviceCompletion:!1,forceConfirmPasswordField:!1}),this.showTip=function(a,b){var c=$(a.target),d=c.closest(".field");d.find(".sidetip p").removeClass("active"),b&&d.find("."+b+":first").addClass("active")},this.validated=function(){var a=!0;return Object.keys(this.attr.validationFields).forEach(function(b){this.attr.validationFields[b]||(a=!1)}.bind(this)),a},this.validatedField=function(a,b){this.attr.validationFields[b.field]=b.valid},this.validate=function(a,b,c,d){if(this.disabled)return;var e={name:b,value:c,quick:d,username:this.$username.val(),password:this.$password.val(),email:this.$email.val(),fullname:this.$fullname.val()};a.trigger("uiSignupValidate",e)},this.focusInput=function(a){var b=$(a.target);b.addClass("focused"),b.val()||b.trigger("uiShowTip","tip")},this.blurInput=function(a){var b=$(a.target);b.removeClass("focused"),b.trigger("uiInputFieldChanged")},this.keydownInput=function(a){var b=$(a.target),c=a&&a.keyCode==8;!b.prop("fieldTouched")&&b.val().length&&(b.prop("fieldTouched",!0),b.trigger("uiFieldTouched",b)),setTimeout(function(){b.trigger("uiInputFieldChanged",{forceAdd:c&&!b.val().length})}.bind(this),0)},this.checkAllFields=function(){this.$allFields.each(function(){$(this).trigger("uiInputFieldChanged",{noRemove:!0})})},this.uiInputFieldChanged=function(a,b){var c=$(a.target),d=c.val(),b=b||{};if(b.forceValidate||d!=c.prop("lastValue"))c.prop("lastValue",d),b.forceValidate?this.validate(c,c.attr("name"),d):(this.validate(c,c.attr("name"),d,!0),clearTimeout(c.prop("validatorTimeout")),c.prop("validatorTimeout",setTimeout(function(){this.validate(c,c.attr("name"),d)}.bind(this),750)))},this.dataValidateUsernameResult=function(a,b){b.sourceEventData.custom&&(this.trigger("uiValidated",{field:"username",valid:b.valid,quick:!1}),b.valid?(this.$username.trigger("uiShowTip","ok"),this.$password.val()&&this.$password.trigger("uiInputFieldChanged",{forceValidate:!0})):b.reason=="improper_format"?this.$username.trigger("uiShowTip","invalid"):b.reason=="blank"?this.$username.trigger("uiShowTip","blank"):this.$username.trigger("uiShowTip","taken"))},this.dataValidateUsernameError=function(){this.trigger("uiValidated",{field:"username",valid:!0,quick:!1}),this.$username.trigger("uiShowTip")},this.chooseSuggestion=function(a,b){a.preventDefault();var c=$(a.target),d=c.text();this.$username.prop("lastValue",d),this.$username.val(d),this.$username.trigger("uiShowTip","ok"),this.$username.trigger("uiInputFieldChanged"),this.$password.val()&&this.$password.trigger("uiInputFieldChanged",{forceValidate:!0}),this.trigger("uiValidated",{field:"username",valid:!0,quick:!1})},this.dataValidateEmailResult=function(a,b){this.trigger("uiValidated",{field:"email",valid:b.valid,quick:!1}),b.valid?b.email_suggestion?(this.select("emailCorrectionSelector").text(b.email_suggestion),this.$email.trigger("uiShowTip","domain"),this.trigger("uiShowingEmailCorrection")):this.$email.trigger("uiShowTip","ok"):b.taken?this.$email.trigger("uiShowTip","taken"):b.blank?this.$email.trigger("uiShowTip","blank"):this.$email.trigger("uiShowTip","invalid")},this.dataValidatePhoneResult=function(a,b){this.trigger("uiValidated",{field:"email",valid:b.valid&&b.available,quick:!1}),b.valid?b.available?this.$email.trigger("uiShowTip","ok"):this.$email.trigger("uiShowTip","phone_taken"):this.$email.trigger("uiShowTip","invalid_phone")},this.dataValidatePasswordResult=function(a,b){this.trigger("uiValidated",{field:"password",valid:b.pass,quick:!1}),b.pass||this.$password.trigger("uiShowTip","obvious")},this.fail=function(a,b){this.trigger("uiShowError","eek")},this.updateEmailField=function(a){a.preventDefault(),this.$email.val(this.select("emailCorrectionSelector").text()).trigger("uiInputFieldChanged",{noRemove:!0,forceValidate:!0})},this.formSubmit=function(){if(!this.validated()&&!this.disabled)return this.shakeSubmitBtn(),this.trigger("uiSignupValidationFail"),!1;this.select("smallPrintSelector").slideUp();if(this.$username.val()){var a=this.$username.val().match(regexps.usernameForSignup);a&&this.$username.val(a[1])}var b=regexps.phoneNumber.test(this.$email.val());this.trigger("uiSignupIdentifierScribe",b),this.trigger("uiSignupValidationSuccess"),this.setSubmitting(!0)},this.nextSubmit=function(){if(!this.attr.validationFields.email)return this.shakeNextBtn(),this.trigger("uiSignupValidationFail"),!1;this.trigger("uiNextValidationSuccess"),this.advanceToName()},this.setSubmitting=function(a){a!==!1?(this.$node.addClass("submitting"),this.$submit.attr("disabled",!0)):(this.$node.removeClass("submitting"),this.$submit.attr("disabled",!1))},this.shakeSubmitBtn=function(){var a=this.$submit;this.shake(a)},this.shakeNextBtn=function(){var a=this.select("nextSelector");this.shake(a)},this.disableValidation=function(){this.disabled=!0,this.$node.addClass("validation-disabled")},this.enableValidation=function(){this.disabled=!1,this.$node.removeClass("validation-disabled")},this.advanceToName=function(a){this.trigger("uiSignupScribeNamePageImpression"),this.$node.removeClass("clean-signup-email"),this.$node.addClass("clean-signup-name")},this.toggleSmsConsent=function(a,b){this.select("smsConsentSelector").toggle(b)},this.after("initialize",function(){this.trigger("uiReportSignupPageLoaded"),this.$username=this.select("usernameSelector"),this.$fullname=this.select("fullnameSelector"),this.$email=this.select("emailSelector"),this.$password=this.select("passwordSelector"),this.$score=this.select("scoreSelector"),this.$allRows=this.select("rowSelector"),this.$allFields=this.$allRows.find("input"),this.$submit=this.select("submitSelector"),this.$bq=this.select("bqSelector"),this.$body=$("body"),this.disabled=!1,this.on("focusin",{usernameSelector:this.focusInput,fullnameSelector:this.focusInput,emailSelector:this.focusInput,passwordSelector:this.focusInput}),this.on("focusout",{usernameSelector:this.blurInput,fullnameSelector:this.blurInput,emailSelector:this.blurInput,passwordSelector:this.blurInput}),this.on("keydown",{usernameSelector:this.keydownInput,fullnameSelector:this.keydownInput,emailSelector:this.keydownInput,passwordSelector:this.keydownInput}),this.on(document,"uiValidated",this.validatedField),this.on(document,"dataUsernameResult",this.dataValidateUsernameResult),this.on(document,"dataUsernameError",this.dataValidateUsernameError),this.on(document,"dataEmailResult",this.dataValidateEmailResult),this.on(document,"dataEmailError",this.fail),this.on(document,"dataPhoneResult",this.dataValidatePhoneResult),this.on(document,"dataPhoneError",this.fail),this.on(document,"dataPasswordResult",this.dataValidatePasswordResult),this.on("uiInputFieldChanged",this.uiInputFieldChanged),this.on(document,"uiCorrectEmailClicked",this.updateEmailField),this.on(document,"uiDisableSignupValidation",this.disableValidation),this.on(document,"uiEnableSignupValidation",this.enableValidation),this.on("submit",this.formSubmit),this.on("click",{suggestionSelector:this.chooseSuggestion,nextSelector:this.nextSubmit}),this.on("uiShowTip",this.showTip),this.on(document,"uiToggleSmsConsent",this.toggleSmsConsent),this.$allFields.each(function(a,b){var c=$(b);c.prop("lastValue",c.val()),c.val().length>1&&!c.closest(".field").find(".sidetip p.active").size()&&c.trigger("uiInputFieldChanged",{forceValidate:!0})}),clock.setIntervalEvent("uiCheckAllFields",2222),this.on(document,"uiCheckAllFields",this.checkAllFields),this.attr.isDeviceCompletion&&(this.$username.attr("disabled",!0),this.attr.validationFields.username=!0,this.attr.validationFields.email=!0),this.trigger("uiReportBQCheckboxState",{bq:this.$bq.attr("checked")?"on":"off"}),this.on("click",{bqSelector:function(){this.trigger("uiReportBQCheckboxState",{bq:this.$bq.attr("checked")?"select":"deselect"})}}),this.$node.is(".validated")&&(Object.keys(this.attr.validationFields).forEach(function(a){this.attr.validationFields[a]=!0}.bind(this)),this.formSubmit()),this.on(this.select("emailCorrectionSelector"),"click",function(){this.trigger("uiCorrectEmailClicked")})})}var clock=require("core/clock"),compose=require("core/compose"),regexps=require("app/utils/common_regexp"),withShakeEffect=require("app/ui/with_shake_effect");module.exports=withSignupValidation
});
define("app/ui/signup/signup_form",["module","require","exports","core/component","app/ui/signup/slidedown_options","app/ui/signup/with_signup_validation","app/utils/with_no_teardown_child_components"],function(module, require, exports) {
function signupForm(){this.defaultAttrs({advancedOptionsSelector:".SlidedownOptions"}),this.focusFirstNonOkField=function(){this.$allRows.each(function(){var a=$(this);if(!a.find(".sidetip p.isaok.active, .sidetip p.checking.active").size())return a.find("input").focus(),!1})},this.showPasswordScore=function(a,b){this.$score.fadeIn().find("b").animate({width:b/2})},this.after("initialize",function(){this.on(document,"uiSignupValidationFail",this.focusFirstNonOkField),this.on(document,"uiValidated",function(a,b){b.fieldname=="username"&&b.valid==1&&this.focusFirstNonOkField()}),this.on(document,"dataPasswordStrength",this.showPasswordScore),this.on(document,"uiSwiftLoaded",this.focusFirstNonOkField),this.attachChild(slidedownOptions,this.select("advancedOptionsSelector"))})}var defineComponent=require("core/component"),slidedownOptions=require("app/ui/signup/slidedown_options"),withSignupValidation=require("app/ui/signup/with_signup_validation"),withNoTeardownChildComponents=require("app/utils/with_no_teardown_child_components");module.exports=defineComponent(signupForm,withSignupValidation,withNoTeardownChildComponents)
});
define("app/ui/signup/suggestions",["module","require","exports","core/component"],function(module, require, exports) {
function suggestions(){this.showSuggestions=function(a,b){var c=b.suggestions;if(c&&c.length){var d=this.$node,e=d.children("ul").empty(),f="";$.each(c,function(){f+='<li><button class="btn-link" data-sugg-sources="'+this.sources.join(",")+'"'+' data-sugg-technik="'+this.technique+'"'+">"+this.suggestion+"</button></li>"+"\n"}),e.append($(f)),d.slideDown("fast",function(){this.trigger("uiUsernameSuggestionsShown")}.bind(this))}},this.after("initialize",function(){this.on(document,"dataUsernameResult",this.showSuggestions)})}var defineComponent=require("core/component"),Suggestions=defineComponent(suggestions);module.exports=Suggestions
});
define("app/pages/signup/signup",["module","require","exports","app/boot/common","app/data/signup_data","app/data/signup_scribe","app/ui/form_ui_metrics","app/ui/signin_dropdown","app/ui/signup/signup_form","app/ui/signup/suggestions"],function(module, require, exports) {
var bootCommon=require("app/boot/common"),SignupData=require("app/data/signup_data"),SignupScribe=require("app/data/signup_scribe"),FormUiMetrics=require("app/ui/form_ui_metrics"),SigninDropdown=require("app/ui/signin_dropdown"),SignupForm=require("app/ui/signup/signup_form"),Suggestions=require("app/ui/signup/suggestions");module.exports=function(a){bootCommon(a),SigninDropdown.attachTo(".js-session"),SignupScribe.attachTo(document,{scribeContext:"signup"}),SignupData.attachTo(document,{scribeContext:a.scribeContext,bannedPasswords:a.bannedPasswords,isDeviceCompletion:a.isDeviceCompletion,validationFields:a.validationFields,usernameSuggestionParams:a.usernameSuggestionParams}),SignupForm.attachTo("#phx-signup-form",{env:a.environment,isDeviceCompletion:a.isDeviceCompletion,validationFields:a.validationFields}),FormUiMetrics.attachTo("#phx-signup-form"),Suggestions.attachTo(".select-username .suggestions")}
});
define("app/ui/signup/country_code_select",["module","require","exports","core/component"],function(module, require, exports) {
function countryCodeSelect(){this.defaultAttrs({selectedSelector:":selected",dropdownSelector:"#device_country_code",prefixInputSelector:"#device_country_intl_prefix",isoCodeInputSelector:"#device_iso_code"}),this.handleSelectionChange=function(a,b){var c=this.$node.find(this.attr.selectedSelector),d=c.val(),e=c.data("iso-code");this.$node.find(this.attr.prefixInputSelector).val(d),this.$node.find(this.attr.isoCodeInputSelector).val(e),this.trigger(document,"uiHasSelectedCountryCode",{code:d})},this.after("initialize",function(a){this.on(this.attr.dropdownSelector,"change",this.handleSelectionChange)})}var defineComponent=require("core/component");module.exports=defineComponent(countryCodeSelect)
});
define("app/ui/signup/country_code_display",["module","require","exports","core/component"],function(module, require, exports) {
function countryCodeDisplay(){this.handleCountrySelection=function(a,b){b.code.indexOf("+")<0?this.$node.text("+"+b.code):this.$node.text(b.code)},this.after("initialize",function(a){this.on(document,"uiHasSelectedCountryCode",this.handleCountrySelection)})}var defineComponent=require("core/component");module.exports=defineComponent(countryCodeDisplay)
});
define("app/ui/signup/signup_digits_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function signupDigitsScribe(){this.scribeSkip=function(){this.scribe("skip")},this.scribeResend=function(){this.scribe("resend")},this.scribeEdit=function(){this.scribe("edit")},this.handleCodeSubmit=function(){this.scribe("submit")},this.after("initialize",function(a){this.on("#verify_btn","click",this.handleCodeSubmit),this.on(".skip-link","click",this.scribeSkip),this.on(".resend-link","click",this.scribeResend),this.on(".edit-number-link","click",this.scribeEdit)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(signupDigitsScribe,withScribe)
});
define("app/pages/signup/signup_digits",["module","require","exports","app/boot/common","app/ui/signup/country_code_select","app/ui/signup/country_code_display","app/ui/signup/signup_digits_scribe","app/ui/message_drawer"],function(module, require, exports) {
var bootCommon=require("app/boot/common"),CountryCodeSelect=require("app/ui/signup/country_code_select"),CountryCodeDisplay=require("app/ui/signup/country_code_display"),SignupDigitsScribe=require("app/ui/signup/signup_digits_scribe"),MessageDrawer=require("app/ui/message_drawer");module.exports=function(b){bootCommon(b),CountryCodeSelect.attachTo("#choose-country",b),CountryCodeDisplay.attachTo("#country_code_display",b),MessageDrawer.attachTo("#message-drawer",b),SignupDigitsScribe.attachTo("div.signup-wrapper",b)}
});
define("app/ui/signup/signup_captcha_scribe",["module","require","exports","core/component","app/data/with_scribe"],function(module, require, exports) {
function signupCaptchaScribe(){this.handleCaptchaInputEngage=function(){this.scribe({page:"signup",section:"captcha_solve",component:"captcha",action:"input"})},this.handleCaptchaSubmit=function(){this.scribe({page:"signup",section:"captcha_solve",component:"captcha",action:"submit"})},this.handleCaptchaReload=function(){this.scribe({page:"signup",section:"captcha_solve",component:"captcha",action:"reload"})},this.handleCaptchaUseAudio=function(){this.scribe({page:"signup",section:"captcha_solve",component:"captcha",action:"use_audio"})},this.handleCaptchaUseImage=function(){this.scribe({page:"signup",section:"captcha_solve",component:"captcha",action:"use_image"})},this.after("initialize",function(a){this.on("#captcha_btn","click",this.handleCaptchaSubmit),this.on("#recaptcha_response_field","focus",this.handleCaptchaInputEngage),this.on("#recaptcha_reload_btn","click",this.handleCaptchaReload),this.on("#recaptcha_switch_audio_btn","click",this.handleCaptchaUseAudio),this.on("#recaptcha_switch_img_btn","click",this.handleCaptchaUseImage)})}var defineComponent=require("core/component"),withScribe=require("app/data/with_scribe");module.exports=defineComponent(signupCaptchaScribe,withScribe)
});
define("app/pages/signup/signup_captcha",["module","require","exports","app/ui/signup/signup_captcha_scribe","app/ui/message_drawer"],function(module, require, exports) {
var SignupCaptchaScribe=require("app/ui/signup/signup_captcha_scribe"),MessageDrawer=require("app/ui/message_drawer");Recaptcha.focus_response_field(),module.exports=function(b){MessageDrawer.attachTo("#message-drawer",b),SignupCaptchaScribe.attachTo("div.signup-wrapper",b)}
});
define("app/ui/signup/windows_oauth",["module","require","exports","core/component"],function(module, require, exports) {
function notifyAndContinueNux(){this.notifyAndContinue=function(a){if(a.access_tokens&&window.external)try{window.external.notify(a.access_tokens)}catch(b){}setTimeout(function(){a.continue_flow_path?this.trigger("uiNavigate",{href:a.continue_flow_path}):this.trigger("uiNavigate",{href:"/"})}.bind(this),100)},this.after("initialize",function(a,b){this.notifyAndContinue(b)})}var defineComponent=require("core/component");module.exports=defineComponent(notifyAndContinueNux)
});
define("app/pages/signup/signup_windows_oauth",["module","require","exports","app/boot/common","app/ui/signup/windows_oauth"],function(module, require, exports) {
var bootCommon=require("app/boot/common"),NotifyAndContinueNux=require("app/ui/signup/windows_oauth");module.exports=function(a){bootCommon(a),NotifyAndContinueNux.attachTo(document,a)}
});